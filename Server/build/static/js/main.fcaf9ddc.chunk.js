(this["webpackJsonpvideo-game-task"]=this["webpackJsonpvideo-game-task"]||[]).push([[0],{29:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(11),r=n.n(c),i=(n(29),n(8)),o=n(42),s=n(14),d=n(18),u=n(19),j=n.n(u),b=n(21),h=function(e,t){var n=Object(a.useState)(e),l=Object(i.a)(n,2),c=l[0],r=l[1],o=Object(a.useState)({}),u=Object(i.a)(o,2),h=u[0],p=u[1];return{handleSubmit:function(){var e=Object(b.a)(j.a.mark((function e(n){var a,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=t(c),l=0===Object.keys(a).length,p(a),!l){e.next=9;break}return e.next=7,fetch("/api/add-place",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){console.log(e),r({place:"",streetAddress:"",city:"",countryOrRegion:"",latitude:null,longitude:null})}));case 7:e.next=10;break;case 9:console.log("Error",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleInputChange:function(e){e.persist(),r((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(s.a)({},e.target.name,e.target.value))}))},inputs:c,errors:h}},p=function(e){var t={};return e.place||(t.place="Please add a name for the place"),e.countryOrRegion||e.city||e.latitude||e.longitude||(t.general="You must have either a city and country/region or lat & long coordinators."),(e.latitude&&!e.longitude||!e.latitude&&e.longitude)&&((e.latitude>90||e.latitude<-90)&&(t.latitude="Invalid latitude value, please enter a decimal value between 0 and 90"),(e.longitude>180||e.longitude<-180)&&(t.longitude="Invalid longitude value, please enter a decimal value between 0 and 180")),t},O=n(2),g=function(){var e=h({place:"",streetAddress:"",city:"",countryOrRegion:"",latitude:null,longitude:null,plusCode:""},p),t=e.inputs,n=e.handleInputChange,a=e.handleSubmit,l=e.errors;return Object(O.jsx)("div",{className:"addPlaceForm",children:Object(O.jsxs)("form",{onSubmit:a,children:[Object(O.jsx)("input",{style:{borderColor:l.place?"red":"transparent"},type:"text",placeholder:"Place Name",name:"place",onChange:n,value:t.place}),l.place?Object(O.jsx)("p",{style:{color:"red",fontSize:15},children:l.place}):null,Object(O.jsx)("input",{type:"text",placeholder:"Street Name / Near",name:"streetAddress",onChange:n,value:t.streetAddress}),Object(O.jsx)("input",{style:{borderColor:l.general?"red":"transparent"},type:"text",placeholder:"City",name:"city",onChange:n,value:t.city}),Object(O.jsx)("input",{style:{borderColor:l.general?"red":"transparent"},type:"text",placeholder:"Country/Region",name:"countryOrRegion",onChange:n,value:t.countryOrRegion}),Object(O.jsx)("input",{style:{borderColor:l.general||l.latitude?"red":"transparent"},type:"number",placeholder:"Latitude",name:"latitude",onChange:n,value:t.latitude}),l.latitude?Object(O.jsx)("p",{style:{color:"red",fontSize:15},children:l.latitude}):null,Object(O.jsx)("input",{style:{borderColor:l.general||l.longitude?"red":"transparent",width:"auto"},type:"number",placeholder:"Longitude",name:"longitude",onChange:n,value:t.longitude}),l.longitude?Object(O.jsx)("p",{style:{color:"red",fontSize:15},children:l.longitude}):null,l.general?Object(O.jsx)("p",{style:{color:"red",fontSize:15},children:l.general}):null,Object(O.jsx)(o.a,{type:"submit",children:"Add Place"})]})})},f=n(40),m=n(38),x=n(22),y=function(e){var t=e.fromChildToParentCallback,n=Object(a.useState)(null),l=Object(i.a)(n,2),c=l[0],r=l[1],s=function(e,n){return t(e,n)};return Object(O.jsx)("div",{className:"searchByContainer",children:Object(O.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),console.log(),0!==e.target[1].value.length?fetch("/api/search?key="+e.target[0].value+"&value="+e.target[1].value,{method:"GET"}).then((function(e){return e.json()})).then((function(t){var n=[];t.results.forEach((function(e){n.push(e)})),r(!0),s(n,e.target[1].value)}),(function(e){console.log(e)})):r(!1)},children:[Object(O.jsxs)(f.a.Group,{children:[Object(O.jsxs)(f.a.Control,{as:"select",children:[Object(O.jsx)("option",{children:"Place"}),Object(O.jsx)("option",{children:"Street Address"}),Object(O.jsx)("option",{children:"City"}),Object(O.jsx)("option",{children:"Country / Region"})]}),Object(O.jsx)(m.a,{size:"sm",className:"mb-3",place:!0,children:Object(O.jsx)(x.a,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",type:"text",placeholder:"Search for.."})})]}),Object(O.jsx)(o.a,{type:"submit",style:{marginTop:15,marginBottom:30,backgroundColor:!1===c?"red":null},children:"Search"})]})})},v=function(e){var t=e.width,n=e.closeNav,a=e.formToOpen,l=e.fromChildToParentCallback;return Object(O.jsxs)("div",{className:"sidenav",style:{width:t},children:["addPlace"===a?Object(O.jsx)(g,{}):Object(O.jsx)(y,{fromChildToParentCallback:l}),Object(O.jsx)(o.a,{onClick:n,style:{position:"absolute",bottom:0,marginTop:10,marginBottom:30},children:"Done"})]})},C=n(39),S=n(41),k=function(e){var t=e.data,n=e.title;return Object(O.jsxs)("div",{className:"placesListContainer",children:[Object(O.jsx)("h3",{style:{color:"white"},children:n}),Object(O.jsx)(C.a,{defaultActiveKey:"0",style:{borderRadius:7},children:t.map((function(e){return Object(O.jsxs)(S.a,{style:{minWidth:"18rem"},children:[Object(O.jsxs)(C.a.Toggle,{as:S.a.Header,eventKey:e._id,children:["Place: ",e.place]}),Object(O.jsx)(C.a.Collapse,{eventKey:e._id,children:Object(O.jsx)(S.a.Body,{children:Object(O.jsxs)("ul",{className:"placeAttr",style:{width:"max-content",textAlign:"left"},children:[e.streetAddress?Object(O.jsx)("li",{children:e.streetAddress}):null,e.city?Object(O.jsx)("li",{children:e.city}):null,e.countryOrRegion?Object(O.jsx)("li",{children:e.countryOrRegion}):null,e.latitude?Object(O.jsx)("li",{children:e.latitude}):null,e.longitude?Object(O.jsx)("li",{children:e.longitude}):null]})})})]},e._id)}))})]})},P=function(e){return Object(O.jsxs)("div",{className:"topButtonContainer",children:[Object(O.jsx)(o.a,{onClick:function(){return e.onAddPlaceClick("addPlace")},style:{visibility:e.showSideBarButton?"visible":"hidden"},children:"Add Place"}),Object(O.jsx)(o.a,{onClick:e.onGetPlacesClick,children:"Get Places"}),Object(O.jsx)(o.a,{onClick:function(){return e.onAddPlaceClick("search")},children:"Search"})]})},A=(n(35),function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),r=Object(i.a)(c,2),o=r[0],s=r[1],d=Object(a.useState)("0%"),u=Object(i.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(!0),p=Object(i.a)(h,2),g=p[0],f=p[1],m=Object(a.useState)("true"),x=Object(i.a)(m,2),y=x[0],C=x[1],S=function(e,t){0===e.length?s("No places were found matching: ".concat(t)):s("Search Results for: ".concat(t)),l(e)};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(P,{onAddPlaceClick:function(e){C(e),console.log(e),b("min-content"),f(!1)},showSideBarButton:g,onGetPlacesClick:function(){fetch("/api/get-database").then((function(e){return e.json()})).then((function(e){var t=[];e.places.forEach((function(e){t.push(e)})),s("All Places in DB"),l(t)}),(function(e){console.log(e)}))},fromChildToParentCallback:S}),Object(O.jsx)(v,{width:j,closeNav:function(){b("0%"),f(!0)},formToOpen:y,fromChildToParentCallback:S}),Object(O.jsx)(k,{data:n,title:o})]})}),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,a=t.getFID,l=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),l(e),c(e),r(e)}))};r.a.render(Object(O.jsx)(l.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root")),w()}},[[36,1,2]]]);
//# sourceMappingURL=main.fcaf9ddc.chunk.js.map